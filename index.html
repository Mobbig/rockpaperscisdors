<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pierre-feuille-ciseaux</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <h1>Rock Paper Scissors Game</h2>

    

    <div id="terrain">
        <div id="head">
            <img id="help" src="./assets/information.png" class="imgtop" title="Help" onclick="info();">
            <div id="infos" class="noinfo">
                <ul>
                    <li>11 points match</li>
                    <li>Nothing else ...</li>
                </ul>               
            </div>
            <img id="refresh" src="./assets/refresh.png" class="imgtop" title="Restart match" onclick="restart();">
        </div>
        <div id="score-panel">
            <div id="player-score">0</div>
            <div style="padding: 2vh;">-</div>
            <div id="computer-score">0</div>
        </div>
        <div id="players">
            <div id="player-choice"></div>
            <div id="computer-choice"></div>
        </div>
    </div>
    <div id="result">Let's start</div>
    <div id="playerchoice">
        <button id="rock" onclick="playRound(this.value);" class="buttonchoice" value="rock"><img src="./assets/rock.png"></button>
        <button id="paper" onclick="playRound(this.value);" class="buttonchoice" value="paper"><img src="./assets/paper.png"></button>
        <button id="scissors" onclick="playRound(this.value);" class="buttonchoice" value="scissors"><img src="./assets/scissors.png"></button>
    </div>


</body>

<script>

    function computerPlay(){
        var choices = ["rock","paper","scissors"];
        var randomed = choices[Math.floor(Math.random() * choices.length)];
        return randomed;
    }

    function playRound(playerSelection){
        var computerSelection = computerPlay();

        if(playerSelection == computerSelection){
            document.getElementById("result").innerHTML = "It's a tie !";
        }else if (playerSelection == "rock" && computerSelection == "scissors" || playerSelection == "paper" && computerSelection == "rock" || playerSelection == "scissors" && computerSelection == "paper"){
            document.getElementById("result").innerHTML = "You win this round !";
            document.getElementById("player-score").innerHTML = parseInt(document.getElementById("player-score").innerHTML) + 1;
        }else {
            document.getElementById("result").innerHTML = "You lose this round !";
            document.getElementById("computer-score").innerHTML = parseInt(document.getElementById("computer-score").innerHTML) + 1;
        }

        document.getElementById("player-choice").innerHTML = "<img src='./assets/" + playerSelection + ".png'>";
        document.getElementById("computer-choice").innerHTML = "<img src='./assets/" + computerSelection + ".png'>";

        if(parseInt(document.getElementById("computer-score").innerHTML) == 11){
            alert("You lose the match !");
            restart();
        }else if(parseInt(document.getElementById("player-score").innerHTML) == 11){
            alert("You win the match !");
            restart();
        }

    }

    function restart(){
        document.getElementById("player-choice").innerHTML = "";
        document.getElementById("computer-choice").innerHTML = "";
        document.getElementById("player-score").innerHTML = 0;
        document.getElementById("computer-score").innerHTML = 0;
        document.getElementById("result").innerHTML = "Let's start";
    }

    function info(){
        if (document.getElementById("infos").classList.contains('noinfo')){
            document.getElementById("infos").classList.add('info');
            document.getElementById("infos").classList.remove('noinfo');
        }else{
            document.getElementById("infos").classList.add('noinfo');
            document.getElementById("infos").classList.remove('info');
        }
    }

</script>
</html>